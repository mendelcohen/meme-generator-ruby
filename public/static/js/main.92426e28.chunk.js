(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(24),o=n.n(c),i=n(9),s=n(4),r=n(1);var j=function(){return Object(r.jsx)("header",{children:Object(r.jsx)("p",{children:"Meme Generator"})})};var l=function(e){var t=e.imgUrl,n=e.topText,a=e.bottomText,c=e.likes;return Object(r.jsxs)("div",{className:"meme",children:[Object(r.jsx)("img",{src:t,alt:""}),Object(r.jsx)("h2",{className:"top",children:n}),Object(r.jsx)("h2",{className:"bottom",children:a}),Object(r.jsx)("p",{children:c})]})},b=n(2);var d=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),j=Object(s.a)(i,2),d=j[0],O=j[1],u=Object(a.useState)("http://i.imgflip.com/1bij.jpg"),h=Object(s.a)(u,2),p=h[0],m=h[1],x=Object(a.useState)([]),g=Object(s.a)(x,2),f=g[0],v=g[1],S=Object(b.f)();function y(e){var t=e.target,n=t.name,a=t.value;"topText"===n?o(a):O(a)}return Object(a.useEffect)((function(){fetch("https://api.imgflip.com/get_memes").then((function(e){return e.json()})).then((function(e){var t=e.data.memes;v(t)}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("form",{className:"meme-form",onSubmit:function(e){e.preventDefault();var t=Math.floor(Math.random()*f.length);1!==t&&28!==t&&71!==t&&92!==t&&96!==t||(t+=1);var n=f[t].url;m(n)},children:[Object(r.jsx)("input",{type:"text",name:"topText",placeholder:"Top Text",value:c,onChange:y}),Object(r.jsx)("input",{type:"text",name:"bottomText",placeholder:"Bottom Text",value:d,onChange:y}),Object(r.jsx)("button",{children:"Gen"})]}),Object(r.jsx)(l,{imgUrl:p,topText:c,bottomText:d}),Object(r.jsx)("div",{children:e.loggedIn?Object(r.jsx)("button",{className:"meme-save",onClick:function(t){var n={topText:c,bottomText:d,imgUrl:p,likes:0},a=localStorage.getItem("token"),o={method:"POST",body:JSON.stringify(n),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(a)}};fetch("".concat(e.PORT,"/api/memes"),o).then((function(e){return e.json()})).then((function(e){console.log(e),S.push("/Memes")}))},children:"Save"}):Object(r.jsx)("button",{className:"meme-save",disabled:!0,children:"Sign in to save"})})]})},O=n(28),u=n(18);var h,p,m,x,g,f,v,S=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){fetch("".concat(e.PORT,"/api/memes"),{method:"GET",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),o(e)}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h2",{className:"",children:"Memes"})}),Object(r.jsx)("div",{className:"cards",children:c.map((function(t){return Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)(l,{id:t.id,imgUrl:t.img_url,topText:t.top_text,bottomText:t.bottom_text}),Object(r.jsxs)("p",{onClick:function(){return n=t,c.forEach((function(t){if(t.id===n.id){t.likes++;var a={likes:t.likes},c=localStorage.getItem("token"),o={method:"PATCH",body:JSON.stringify(a),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}};fetch("".concat(e.PORT,"/api/memes/").concat(t.id),o)}})),void o(Object(O.a)(c));var n},children:[Object(r.jsx)(u.b,{}),Object(r.jsx)("br",{}),t.likes]})]},t.id)}))})]})},y=n(10),T=n(8),C=n(11),w=C.a.nav(h||(h=Object(y.a)(["\n  background: #63D471;\n  height: 85px;\n  display: flex;\n  justify-content: space-between;\n  padding: 0.2rem calc((100vw - 1000px) / 2);\n  z-index: 12;\n  /* Third Nav */\n  /* justify-content: flex-start; */\n"]))),N=Object(C.a)(T.b)(p||(p=Object(y.a)(["\n  color: #808080;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: 0 1rem;\n  height: 100%;\n  cursor: pointer;\n  &.active {\n    color: #000000;\n  }\n"]))),k=(Object(C.a)(u.a)(m||(m=Object(y.a)(["\n  display: none;\n  color: #808080;\n  @media screen and (max-width: 768px) {\n    display: block;\n    position: absolute;\n    top: 0;\n    right: 0;\n    transform: translate(-100%, 75%);\n    font-size: 1.8rem;\n    cursor: pointer;\n  }\n"]))),C.a.div(x||(x=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: -24px;\n  /* Second Nav */\n  /* margin-right: 24px; */\n  /* Third Nav */\n  /* width: 100vw;\n  white-space: nowrap; */\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"])))),P=C.a.nav(g||(g=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 24px;\n  /* Third Nav */\n  /* justify-content: flex-end;\n  width: 100vw; */\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),I=Object(C.a)(T.b)(f||(f=Object(y.a)(["\n  border-radius: 4px;\n  background: #808080;\n  padding: 10px 22px;\n  color: #000000;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n  /* Second Nav */\n  margin-left: 24px;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #fff;\n    color: #808080;\n  }\n"]))),R=(Object(C.a)(T.b)(v||(v=Object(y.a)(["\n  border-radius: 4px;\n  background: #808080;\n  padding: 10px 22px;\n  color: #000000;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n  /* Second Nav */\n  margin-left: 24px;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #fff;\n    color: #808080;\n  }\n"]))),function(e){return e.loggedIn?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(w,{children:[Object(r.jsxs)(k,{children:[Object(r.jsx)(N,{to:"/MemeGenerator",activeStyle:!0,children:"Meme Generator"}),Object(r.jsx)(N,{to:"/memes",activeStyle:!0,children:"Memes"})]}),Object(r.jsx)(P,{children:Object(r.jsx)(I,{onClick:function(){localStorage.clear(),e.setLoggedIn(!1)},to:"/sign-in",children:"Logout"})})]})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(w,{children:[Object(r.jsx)(k,{}),Object(r.jsxs)(P,{children:[Object(r.jsx)(I,{to:"/sign-in",children:"Sign In"}),Object(r.jsx)(I,{to:"/sign-up",children:"Sign Up"})]})]})})}),A=function(){return Object(r.jsx)("div",{style:{display:"flex",justifyContent:"Right",alignItems:"Right",height:"100vh"},children:Object(r.jsx)("h1",{children:'Meme Generator is where you create new and "surprising" memes'})})};var E=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),j=Object(s.a)(i,2),l=j[0],d=j[1],O=Object(a.useState)(""),u=Object(s.a)(O,2),h=u[0],p=u[1],m=Object(a.useState)(""),x=Object(s.a)(m,2),g=x[0],f=x[1],v=Object(a.useState)(""),S=Object(s.a)(v,2),y=S[0],T=S[1],C=Object(b.f)();function w(e){var t=e.target,n=t.name,a=t.value;"firstName"===n?o(a):"lastName"===n?d(a):"email"===n?p(a):"password"===n?f(a):"passwordConfirmation"===n&&T(a)}return Object(r.jsx)("div",{style:{display:"flex",justifyContent:"Right",alignItems:"Right",height:"100vh"},children:Object(r.jsxs)("form",{className:"signup-form",onSubmit:function(t){t.preventDefault(),console.log("new user");var n={firstName:c,lastName:l,email:h,password:g,passwordConfirmation:y},a={method:"POST",body:JSON.stringify(n),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}};fetch("".concat(e.PORT,"/api/users"),a).then((function(e){return e.json()})).then((function(e){console.log(e),C.push("/sign-in")}))},children:[Object(r.jsx)("h1",{children:"Sign Up"}),Object(r.jsx)("input",{type:"text",name:"firstName",placeholder:"First Name",value:c,onChange:w}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"lastName",placeholder:"Last Name",value:l,onChange:w}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"email",placeholder:"Email",value:h,onChange:w}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"password",placeholder:"Password",value:g,onChange:w}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"passwordConfirmation",placeholder:"Password Confirmation",value:y,onChange:w}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{children:"Create Account"})]})})};var _=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),j=Object(s.a)(i,2),l=j[0],d=j[1],O=Object(b.f)();function u(e){var t=e.target,n=t.name,a=t.value;"email"===n?o(a):d(a)}return Object(r.jsx)("div",{style:{display:"flex",justifyContent:"Right",alignItems:"Right",height:"100vh"},children:Object(r.jsxs)("form",{className:"signup-form",onSubmit:function(t){t.preventDefault();var n={email:c,password:l},a={method:"POST",body:JSON.stringify(n),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"}};fetch("".concat(e.PORT,"/api/sessions"),a).then((function(e){return e.json()})).then((function(t){console.log(e.PORT),console.log(t),localStorage.setItem("token",t.jwt),e.setLoggedIn(!0),O.push("/MemeGenerator")}))},children:[Object(r.jsx)("h1",{children:"Sign In"}),Object(r.jsx)("input",{type:"text",name:"email",placeholder:"Email",value:c,onChange:u}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"password",placeholder:"Password",value:l,onChange:u}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{children:"Sign In"})]})})},M=localStorage.getItem("token");var D=function(){var e=Object(a.useState)(M),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).Port||"http://localhost:3000";return console.log(n),Object(r.jsxs)(T.a,{children:[Object(r.jsx)(j,{}),Object(r.jsx)(R,{loggedIn:n,setLoggedIn:c}),Object(r.jsxs)(b.c,{children:[Object(r.jsx)(b.a,{path:"/",exact:!0,component:d}),Object(r.jsx)(b.a,{path:"/about",component:A}),Object(r.jsx)(b.a,{path:"/sign-up",render:function(e){return Object(r.jsx)(E,Object(i.a)(Object(i.a)({},e),{},{PORT:o}))}}),Object(r.jsx)(b.a,{path:"/sign-in",render:function(e){return Object(r.jsx)(_,Object(i.a)(Object(i.a)({},e),{},{setLoggedIn:c,PORT:o}))}}),Object(r.jsx)(b.a,{path:"/MemeGenerator",render:function(e){return Object(r.jsx)(d,Object(i.a)(Object(i.a)({},e),{},{loggedIn:n,PORT:o}))}}),Object(r.jsx)(b.a,{path:"/Memes",render:function(e){return Object(r.jsx)(S,Object(i.a)(Object(i.a)({},e),{},{PORT:o}))}})]})]})};n(40);o.a.render(Object(r.jsx)(D,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.92426e28.chunk.js.map